'''
Задание 1. Функцию группового переименования файлов.
Напишите функцию группового переименования файлов. Она должна:
1. принимать параметр желаемое конечное имя файлов. При
переименовании в конце имени добавляется порядковый номер.
2. принимать параметр количество цифр в порядковом номере.
3. принимать параметр расширение исходного файла. Переименование
должно работать только для этих файлов внутри каталога.
4. принимать параметр расширение конечного файла.
5. принимать диапазон сохраняемого оригинального имени.
Например для диапазона [3, 6] берутся буквы с 3 по 6 из исходного имени файла.
К ним прибавляется желаемое конечное имя, если оно передано. Далее счётчик
файлов и расширение. 3.Соберите из созданных на уроке и в рамках домашнего
задания функций пакет для работы с файлами.
Подсказка № 1
Используйте функцию os.listdir() для получения всех файлов в указанном
каталоге и фильтруйте их по расширению с помощью метода endswith().
Подсказка № 2
Для форматирования порядкового номера используйте форматную строку
f"{{:0{num_digits}d}}", где num_digits определяет количество цифр в номере.
Подсказка № 3
Используйте срезы строки для извлечения нужной части базового имени файла в
зависимости от диапазона. Помните, что индексы в Python начинаются с 0, поэтому
корректируйте диапазон.
Подсказка № 4
Перед переименованием файлов убедитесь, что указанный каталог существует,
используя функцию os.path.isdir(). Это предотвратит ошибки в случае неверного
пути.
Подсказка № 5
Для переименования файлов используйте функцию os.rename(), передавая ей
полные пути старого и нового имени файла. Убедитесь, что новые имена файлов
формируются корректно, включая порядковый номер и расширение.
'''
import os

def group_rename_files(directory, desired_name, num_digits, src_extension, dest_extension, name_range):
# Проверяем, существует ли указанный каталог
   if not os.path.isdir(directory):
      print(f"Каталог {directory} не существует.")
      return

# Получаем все файлы в указанном каталоге с заданным расширением
   files = [f for f in os.listdir(directory) if f.endswith(src_extension)]

# Форматируем строку для порядкового номера
   num_format = f"{{:0{num_digits}d}}"

   for i, filename in enumerate(files):
# Извлекаем часть оригинального имени файла в зависимости от диапазона
      base_name = os.path.splitext(filename)[0]
      original_part = base_name[name_range[0]:name_range[1]]

# Формируем новое имя файла
      new_name = f"{original_part}{desired_name}{num_format.format(i + 1)}.{dest_extension}"

# Полные пути старого и нового имени файла
      old_file = os.path.join(directory, filename)
      new_file = os.path.join(directory, new_name)

# Переименовываем файл
      os.rename(old_file, new_file)
   print(f"Переименован {old_file} в {new_file}")

# Пример использования функции
group_rename_files('/path/to/directory', 'newname', 3, '.txt', 'md', (3, 6))

'''
Объяснение:
1. Проверка существования каталога: Используется os.path.isdir() для проверки, существует ли указанный каталог.
2. Получение файлов с заданным расширением: Используется os.listdir() и фильтрация с помощью endswith().
3. Форматирование порядкового номера: Используется форматная строка f"{{:0{num_digits}d}}".
4. Извлечение части оригинального имени файла: Используются срезы строки.
5. Переименование файлов: Используется os.rename() для переименования файлов.
'''